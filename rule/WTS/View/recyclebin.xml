<?xml version="1.0" encoding="windows-1251"?>
<rule type="view" id="recyclebin" history="on">
	<description>Корзина</description>
	<outline>navigator</outline>
	<query>recyclebin</query>		
	<xsltfile>views\recyclebin-view.xsl</xsltfile>
	<title source="KEYWORD">Корзина</title>
	<field mode="on">
		<description></description>
		<name>Remove</name>
		<value><![CDATA[Provider?type=document&amp;id=in&amp;key=]]></value>
	</field>
	<field mode="on">
		<description></description>
		<name>Recover</name>
		<value><![CDATA[Provider?type=document&amp;id=in&amp;key=&amp;page=null]]></value>
	</field>
	<column>
		<caption id="category" source="KEYWORD">Корзина</caption>
	</column>
	<column>
		<caption id="view" source="KEYWORD">Корзина</caption>
	</column>
	<column>
		<caption id="datereg" source="KEYWORD">Дата регистрации</caption>
	</column>
	<column>
		<caption id="corr" source="KEYWORD">Отправитель</caption>
	</column>
	<column>
		<caption id="briefcontent" source="KEYWORD">Краткое содержание</caption>
	</column>	
	<column>
		<caption id="page" source="KEYWORD">Страница</caption>
	</column>
	<column>
		<caption id="documents" source="KEYWORD">Документов</caption>
	</column>
	<column>
		<caption id="updates" source="KEYWORD">Обновлено</caption>
	</column>
	<column>
		<caption id="from" source="KEYWORD">из</caption>
	</column>
	<column>
		<caption id="btnRemove" source="KEYWORD">Очистить</caption>
	</column>
	<column>
		<caption id="btnRecover" source="KEYWORD">Восстановить</caption>
	</column>
	<column>
		<caption id="BTNDELETEDOCUMENT" source="KEYWORD">Удалить документ</caption>
	</column>
	<column>
		<caption id="helpcaption" source="KEYWORD">Помощь</caption>
	</column>
	<column>
		<caption id="appcaption" source="KEYWORD">Автоматизированная веб-система технического надзора (WTS)</caption>
	</column>
	<column>
		<caption id="curuserprop" source="KEYWORD">Посмотреть свойства текущего пользователя</caption>
	</column>
	<action mode="on" type="CLEAR_RECYCLEBIN">
		<caption source="KEYWORD">Очистить корзину</caption>
		<granted source="script" mode="on"><![CDATA[
			String[] getStringValue(_Session session){
				def user = session.getStructure().getUser(session.getCurrentUser());
				return getAsArray(user.hasRole("administrator") ? user.getUserID() : "");
			}
			]]></granted>
	</action>
	<action mode="on" type="RECOVER_RECYCLEBIN">
		<caption source="KEYWORD">Восстановить</caption>
		<granted source="script" mode="on"><![CDATA[
			String[] getStringValue(_Session session){
				def user = session.getStructure().getUser(session.getCurrentUser());
				return getAsArray(user.hasRole("administrator") ? user.getUserID() : "");
			}
			]]></granted>
	</action>
</rule>